<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
  <link rel="stylesheet" href="./css/常见故障.css">
</head>
<body>
<div id="mainContent">
  <div class="box-content">
    <div class="fonts"> 常见故障</div>
  </div>
  <hr />
  <div id="content">
    <div class="slider-bar">

      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/fdg700" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】电脑卡顿不流畅怎么办</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/pfrgwf" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】笔记本外接显示器显示无视频输入或者黑屏</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/vzm6tt" target="_blank">
          <span class="dot"></span>
          <li id="text">【网络故障】阿里郎连接VPN提示VPN网卡适配器安装失败</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/ytkkyp" target="_blank">
          <span class="dot"></span>
          <li id="text">【网络故障】阿里郎连接VPN提示：亲，请您手动开启系统vpnagent服务后再试一下</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/ou6zkf" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】Mac电脑频繁重启问题解决方法</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/qdidzt" target="_blank">
          <span class="dot"></span>
          <li id="text">【网络故障】阿里郎连不上网</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/zhishuo.tzs/ne67wt/wmdtid" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】笔记本电脑进水怎么办</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/hlddsk/ukx4be/gfkwim" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】电脑无法开机（按开机键无反应，无任何指示灯亮</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/hlddsk/ukx4be/ip6fya" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】电脑开机通电不显示</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/hlddsk/ukx4be/ye1zk8" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】电脑频繁断电重启死机</li>
        </a>
      </div>
      <div class="box-link" style="margin-left: 3px">
        <a href="https://yuque.alibaba-inc.com/hlddsk/ukx4be/uilldt" target="_blank">
          <span class="dot"></span>
          <li id="text">【电脑故障】电脑运行很慢</li>
        </a>
      </div>
    </div>
  </div>
</div>

<div id="searchInput" style="margin-top: 60px">
  <input type="text" placeholder="请输入你要查找的问题" id="search-input" value="">
  <div id="search-icon">
    <img src="https://img.alicdn.com/tfs/TB1uJBhSeL2gK0jSZFmXXc7iXXa-48-48.png" alt="搜索">
  </div>
  <div id="list"></div>
</div>
<script src="../../js/jquery.min.js"></script>
<script>
let list = document.getElementById('list')
let searchInput = document.getElementById('searchInput')
var content = $('#content').html();
searchInput.addEventListener('keydown',function(event){

	if (event.keyCode == 13) {
    /*$('#search-icon').click(function() {*/
		$('#content').html(content);
		var searchText = $('#search-input').val().trim();

		if (searchText.length == 0) {
      /*alert('无内容');*/
			list.innerHTML = '<span style="font-size: 12px;color: #c81623">输入框不能为空</span>';
			return false;
		}
		var regExp = new RegExp(searchText, 'gi');
		var newHtml = content.replace(regExp, '<span id="result" style="background:yellow;color:red;">' + searchText + '</span>');
		console.log(searchText)
		if (newHtml.indexOf(searchText) === -1) {
			list.innerHTML = '<span style="font-size: 12px;color: #c81623">匹配不到对应的值</span>';
			return false;
		}
		$('#content').html(newHtml);
		var X = $('#result').offset().top;
		var Y = $('#result').offset().left;
		window.scrollTo(X, Y);
	}
});
$('#search-icon').click(function() {

$('#content').html(content);
var searchText = $('#search-input').val().trim();

if (searchText.length == 0) {
  /*alert('无内容');*/
	list.innerHTML = '<span style="font-size: 12px;color: #c81623">输入框不能为空</span>';
	return false;
}
var regExp = new RegExp(searchText, 'gi');
var newHtml = content.replace(regExp, '<span id="result" style="background:yellow;color:red;">' + searchText + '</span>');
console.log(searchText)
if (newHtml.indexOf(searchText) === -1) {
	list.innerHTML = '<span style="font-size: 12px;color: #c81623">匹配不到对应的值</span>';
	return false;
}
$('#content').html(newHtml);
var X = $('#result').offset().top;
var Y = $('#result').offset().left;
window.scrollTo(X, Y);
});
searchInput.addEventListener('mouseleave', function() {
	list.innerHTML = '<span style="display: none"></span>';
})

// 页面滚动
var scrollUpBox = document.getElementById('content');
var slider = document.querySelector('.slider-bar');
function scrollUp() {
	if (scrollUpBox.scrollTop >= (slider.clientHeight - scrollUpBox.clientHeight)) {
		scrollUpBox.scrollTop = 0;
	} else {
		scrollUpBox.scrollTop++;
	}
}
var TIME = 50;
var timer = setInterval(scrollUp, TIME);
scrollUpBox.onmouseover = function() {
	clearInterval(timer);
}
scrollUpBox.onmouseout = function() {
	timer = setInterval(scrollUp, TIME);
}
</script>
</body>
</html>
